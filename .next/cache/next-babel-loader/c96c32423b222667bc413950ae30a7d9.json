{"ast":null,"code":"// pages/api/post/index.ts\nimport { getSession } from \"next-auth/client\";\nimport prisma from \"../../../lib/prisma\"; // Update the API route to modify the database using the Prisma Client.\n// POST /api/post\n// Required fields in body: title\n// Optional fields in body: content\n\nexport default async function handle(req, res) {\n  const {\n    title,\n    content\n  } = req.body;\n  const session = await getSession({\n    req\n  });\n  const result = await prisma.post.create({\n    data: {\n      title: title,\n      content: content,\n      author: {\n        connect: {\n          email: \"clara32356@gmail.com\"\n        }\n      } //   author: { connect: { email: session?.user?.email } },\n\n    }\n  });\n  res.json(result);\n}","map":{"version":3,"sources":["/Users/clairebookworm/Documents/Github/blogr-nextjs-prisma/pages/api/post/index.ts"],"names":["getSession","prisma","handle","req","res","title","content","body","session","result","post","create","data","author","connect","email","json"],"mappings":"AAAA;AAEA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CACA;AAEA;AACA;AACA;;AACA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAqBH,GAAG,CAACI,IAA/B;AAEA,QAAMC,OAAO,GAAG,MAAMR,UAAU,CAAC;AAAEG,IAAAA;AAAF,GAAD,CAAhC;AACA,QAAMM,MAAM,GAAG,MAAMR,MAAM,CAACS,IAAP,CAAYC,MAAZ,CAAmB;AACtCC,IAAAA,IAAI,EAAE;AACJP,MAAAA,KAAK,EAAEA,KADH;AAEJC,MAAAA,OAAO,EAAEA,OAFL;AAGPO,MAAAA,MAAM,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAX,OAHD,CAIN;;AAJM;AADgC,GAAnB,CAArB;AAQAX,EAAAA,GAAG,CAACY,IAAJ,CAASP,MAAT;AACD","sourcesContent":["// pages/api/post/index.ts\n\nimport { getSession } from \"next-auth/client\";\nimport prisma from \"../../../lib/prisma\";\n// Update the API route to modify the database using the Prisma Client.\n\n// POST /api/post\n// Required fields in body: title\n// Optional fields in body: content\nexport default async function handle(req, res) {\n  const { title, content } = req.body;\n\n  const session = await getSession({ req });\n  const result = await prisma.post.create({\n    data: {\n      title: title,\n      content: content,\n\t  author: { connect: { email: \"clara32356@gmail.com\" } },\n    //   author: { connect: { email: session?.user?.email } },\n    },\n  });\n  res.json(result);\n}\n"]},"metadata":{},"sourceType":"module"}